<div class="main">
    <div class="page-title">
        Event Summary
    </div>
    <div class="set-up-payment p-3">
        <div>
            <i class="fa fa-bell mr-2"></i><span class="font-weight-bold">Set up your payment system</span>
        </div>
        <div class="mt-2">
            To allow your customers to buy tickets for your event, youâ€™ll need to choose how you want to take payments. We support the following options:
        </div>

        <!-- 
        <div *ngIf="!setupStripe">
            <div class="mt-3 font-weight-bold">
                1. Stripe (recommended)
            </div>
            <div class="mt-2">
                Easy to set up, great support and a simple purchase experience for your customers to pay by card. Stripe has low fees and typically pays out to your bank account 7 days after the money was paid to you.
            </div>
            <div class="mt-3">
                <button mat-flat-button color="primary" class="mr-3">Set up Stripe to take payments</button> <a>Learn more about Stripe</a>
            </div>
        </div>  -->

        <div *ngIf="!setupPayPal">
            <div class="mt-3 font-weight-bold">
                2. PayPal
            </div>
            <div class="mt-2">
                Gives your customers the option to pay via PayPal or card. A convenient option if you already have a PayPal account set up.
            </div>
            <div class="mt-3">
                <button mat-flat-button color="primary" class="mr-3">Set up Paypal to take payments</button> <a>Learn more about PayPal</a>
            </div>
        </div>

        <div class="mt-3 font-weight-bold">
            3. Offline payments
        </div>
        <div class="mt-2">
            Allow your customers to pay by bank transfer, cheque or by any other means that isn't online.
        </div>
        <div class="mt-3">
            <button mat-flat-button color="primary" class="mr-3" [routerLink]="['/super-admin/settings/payment-systems']">Set up offline payments</button> <a>Learn more about offline payments</a>
        </div>

        <div class="mt-3">
            <a>Learn more about processing card payments.</a>
        </div>
    </div>


    <div class="total-summary border p-3" fxLayout="row">

        <div class="total-ticket-summary text-center border-right" fxFlex="25">
            <div class="title">
                TOTAL ISSUED TICKETS
            </div>
            <div class="count">
                {{eventSummery && eventSummery.totalTicket ? eventSummery.totalTicket.issueTicket : 0}}
            </div>
            <div class="more-link">
                <a>View issued tickets</a>
            </div>
        </div>
        <div class="total-ticket-summary text-center border-right" fxFlex="25">
            <div class="title">
                TICKET SALES REVENUE
            </div>
            <div class="count">
                {{ ( eventSummery && eventSummery.totalTicket ? eventSummery.totalTicket.salesRevenue : 0 )| currency:currencySymbol:'symbol'}}
            </div>
            <div class="more-link">
                <a>View orders</a>
            </div>
        </div>
        <div class="total-ticket-summary text-center border-right" fxFlex="25">
            <div class="title">
                DAYS TO GO
            </div>
            <div class="count ">
                {{eventSummery && eventSummery.totalTicket ? eventSummery.totalTicket.daysToGo : 0}} Days
            </div>
        </div>
        <div class="total-ticket-summary text-center" fxFlex="25">
            <div class="title">
                Event Views
            </div>
            <div class="count">
                {{eventSummery && eventSummery.totalTicket ? eventSummery.totalTicket.eventView : 0}}
            </div>
            <div class="more-link">
                <a href="javascript:;">View Chart</a>
            </div>
        </div>
    </div>

    <div class="event-page-link border p-3">
        <div class="row m-0">
            <div class="title">
                Event page link
            </div>
            <div class="ml-auto">
                <button mat-flat-button color="primary" (click)="PreviewPage();">Preview Event Page</button>
            </div>
        </div>
        <div class="row m-0">
            <div class=" input-div mt-3">
                <input type="text" class="form-control bg-light" placeholder="{{eventURL}}" readonly>
            </div>
            <div class="mt-3 ml-2">
                <a href="javascript:;" (click)="fnShare('facebook');" class="ml-3 "><i class="fa fa-facebook mr-2"></i>Share it</a>
                <a href="javascript:;" (click)="fnShare('twitter');" class="ml-3 "><i class="fa fa-twitter mr-2"></i>Tweet it</a>
                <a href="javascript:;" (click)="createTrackingLinkandView()" class="ml-3 "><i class="fa fa-link mr-2"></i>Create tracking Link and View</a><br class="m-0">
                <a href="javascript:;" class="ml-3 "><i class="fa fa-code mr-2"></i>Embed booking Widget</a>
            </div>
        </div>

    </div>

    <div class="ticket-sales border p-3">
        <div class="row m-0">
            <div class="title">
                Ticket Sales
            </div>
            <div class="ml-auto">
                <a>Manage ticket types</a>
            </div>
        </div>

        <div class="mt-3">
            <div class="border" fxLayout="row">
                <div class="fxflex p-2 pl-3 border-right" fxFlex="35">Item</div>
                <div class="fxflex p-2 pl-3 border-right" fxFlex="15">Price</div>
                <div class="fxflex p-2 pl-3 border-right" fxFlex="10">Fee</div>
                <div class="fxflex p-2 pl-3 border-right" fxFlex="20">Qty</div>
                <div class="fxflex p-2 pl-3 border-right" fxFlex="20">Subtotal</div>
            </div>

            <div *ngIf="eventSummery > 0 && eventSummery.soldTicket">

                <div class="border" fxLayout="row" *ngFor="let value of eventSummery.soldTicket;let i=index">
                    <div class="fxflex p-2 pl-3 border-right" fxFlex="35">General Admission </div>
                    <div class="fxflex p-2 pl-3 border-right" fxFlex="15">{{ value.ticket_amt | currency:currencySymbol:'symbol' }}</div>
                    <div class="fxflex p-2 pl-3 border-right" fxFlex="10">{{ eventDetail.event_setting ? eventDetail.event_setting.transaction_fee : 0 | currency:currencySymbol:'symbol' }}</div>
                    <div class="fxflex p-2 pl-3 border-right" fxFlex="20">{{value.sold}}</div>
                    <div class="fxflex p-2 pl-3 border-right" fxFlex="20">
                        {{value.revenue | currency:currencySymbol:'symbol' }}
                    </div>
                </div>

                <div class="border" fxLayout="row">
                    <div class="fxflex p-2 pl-3 border-right" fxFlex="35">
                        <p class="font-weight-bold mt-3">Grand Total</p>
                    </div>
                    <div class="fxflex p-2 pl-3 border-right" fxFlex="15"></div>
                    <div class="fxflex p-2 pl-3 border-right" fxFlex="10"></div>
                    <div class="fxflex p-2 pl-3 border-right" fxFlex="20"></div>
                    <div class="fxflex p-2 pl-3 border-right" fxFlex="20">
                        <p class="font-weight-bold mt-3"> {{ (eventSummery.totalTicket ? eventSummery.totalTicket.salesRevenue : 0) | currency:currencySymbol:'symbol' }} </p>
                    </div>
                </div>
            </div>
            <div class="row areaChart mt-4">
                <canvas id="areaChart1"></canvas>
            </div>
        </div>
    </div>

    <div class="referral-sales-summary border p-3">
        <div class="title">
            Referral sales summary
        </div>
        <div class="mt-2">
            <a>Load referral stats</a>
        </div>

        <div class="mt-3">
            <div class="border" fxLayout="row">
                <div class="fxflex p-2 pl-3 border-right" fxFlex="40">Refferel Code</div>
                <div class="fxflex p-2 pl-3 border-right" fxFlex="20">Orders Placed</div>
                <div class="fxflex p-2 pl-3 border-right" fxFlex="20">Ticket Sold</div>
                <div class="fxflex p-2 pl-3 border-right" fxFlex="20">Revenue</div>
            </div>
            <div *ngIf="eventSummery && eventSummery.refrelData">
                <div class="border" fxLayout="row" *ngFor="let value of eventSummery.refrelData;let i=index">
                    <div class="fxflex font-weight-bold p-2 pl-3 border-right" fxFlex="40">{{value.type}}</div>
                    <div class="fxflex font-weight-bold p-2 pl-3 border-right" fxFlex="20">{{value.totalOrders}}</div>
                    <div class="fxflex font-weight-bold p-2 pl-3 border-right" fxFlex="20">{{value.totalTickets}}</div>
                    <div class="fxflex font-weight-bold p-2 pl-3 border-right" fxFlex="20"> {{ value.totalRevenue | currency:currencySymbol:'symbol' }} </div>
                </div>
            </div>
        </div>
    </div>

    <div class="event-page-link border p-3">
        <div class="row m-0">
            <div class="title">
                Event View
            </div>
            <div class="ml-auto">
                <mat-select class="event-view-dropdown form-control" name="" id="">
                    <mat-option value="">Last 7 Day</mat-option>
                    <mat-option value="">Last 4 Weeks</mat-option>
                    <mat-option value="">Last Year</mat-option>
                </mat-select>
            </div>
        </div>
        <div class="areaChart mt-4">
            <canvas id="areaChart2"></canvas>
        </div>
    </div>
</div>